<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Configuration` struct in crate `rayon_core`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Configuration">

    <title>rayon_core::Configuration - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Struct Configuration</p><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.new">new</a><a href="#method.build">build</a><a href="#method.thread_name">thread_name</a><a href="#method.num_threads">num_threads</a><a href="#method.panic_handler">panic_handler</a><a href="#method.stack_size">stack_size</a><a href="#method.breadth_first">breadth_first</a><a href="#method.start_handler">start_handler</a><a href="#method.exit_handler">exit_handler</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Default">Default</a><a href="#impl-Debug">Debug</a></div></div><p class='location'><a href='index.html'>rayon_core</a></p><script>window.sidebarCurrent = {name: 'Configuration', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>rayon_core</a>::<wbr><a class="struct" href=''>Configuration</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/rayon_core/lib.rs.html#89-115' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Configuration { /* fields omitted */ }</pre><div class='docblock'><p>Contains the rayon thread pool configuration.</p>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><code>impl <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a></code><a href='#impl' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#131-307' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>pub fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#133-135' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Creates and return a valid rayon thread pool configuration, but does not initialize it.</p>
</div><h4 id='method.build' class="method"><span id='build.v' class='invisible'><code>pub fn <a href='#method.build' class='fnname'>build</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../rayon_core/struct.ThreadPool.html" title="struct rayon_core::ThreadPool">ThreadPool</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a> + 'static&gt;&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#138-140' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Create a new <code>ThreadPool</code> initialized using this configuration.</p>
</div><h4 id='method.thread_name' class="method"><span id='thread_name.v' class='invisible'><code>pub fn <a href='#method.thread_name' class='fnname'>thread_name</a>&lt;F&gt;(self, closure: F) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a> + 'static,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#169-173' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Set a closure which takes a thread index and returns
the thread&#39;s name.</p>
</div><h4 id='method.num_threads' class="method"><span id='num_threads.v' class='invisible'><code>pub fn <a href='#method.num_threads' class='fnname'>num_threads</a>(self, num_threads: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#201-204' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Set the number of threads to be used in the rayon threadpool.</p>

<p>If you specify a non-zero number of threads using this
function, then the resulting thread-pools are guaranteed to
start at most this number of threads.</p>

<p>If <code>num_threads</code> is 0, or you do not call this function, then
the Rayon runtime will select the number of threads
automatically. At present, this is based on the
<code>RAYON_NUM_THREADS</code> environment variable (if set),
or the number of logical CPUs (otherwise).
In the future, however, the default behavior may
change to dynamically add or remove threads as needed.</p>

<p><strong>Future compatibility warning:</strong> Given the default behavior
may change in the future, if you wish to rely on a fixed
number of threads, you should use this function to specify
that number. To reproduce the current default behavior, you
may wish to use the <a href="https://crates.io/crates/num_cpus"><code>num_cpus</code>
crate</a> to query the number
of CPUs dynamically.</p>

<p><strong>Old environment variable:</strong> <code>RAYON_NUM_THREADS</code> is a one-to-one
replacement of the now deprecated <code>RAYON_RS_NUM_CPUS</code> environment
variable. If both variables are specified, <code>RAYON_NUM_THREADS</code> will
be prefered.</p>
</div><h4 id='method.panic_handler' class="method"><span id='panic_handler.v' class='invisible'><code>pub fn <a href='#method.panic_handler' class='fnname'>panic_handler</a>&lt;H&gt;(self, panic_handler: H) -&gt; <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;H: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt;) + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#225-230' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Normally, whenever Rayon catches a panic, it tries to
propagate it to someplace sensible, to try and reflect the
semantics of sequential execution. But in some cases,
particularly with the <code>spawn()</code> APIs, there is no
obvious place where we should propagate the panic to.
In that case, this panic handler is invoked.</p>

<p>If no panic handler is set, the default is to abort the
process, under the principle that panics should not go
unobserved.</p>

<p>If the panic handler itself panics, this will abort the
process. To prevent this, wrap the body of your panic handler
in a call to <code>std::panic::catch_unwind()</code>.</p>
</div><h4 id='method.stack_size' class="method"><span id='stack_size.v' class='invisible'><code>pub fn <a href='#method.stack_size' class='fnname'>stack_size</a>(self, stack_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#238-241' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Set the stack size of the worker threads</p>
</div><h4 id='method.breadth_first' class="method"><span id='breadth_first.v' class='invisible'><code>pub fn <a href='#method.breadth_first' class='fnname'>breadth_first</a>(self) -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#263-266' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Suggest to worker threads that they execute spawned jobs in a
&quot;breadth-first&quot; fashion. Typically, when a worker thread is
idle or blocked, it will attempt to execute the job from the
<em>top</em> of its local deque of work (i.e., the job most recently
spawned). If this flag is set to true, however, workers will
prefer to execute in a <em>breadth-first</em> fashion -- that is,
they will search for jobs at the <em>bottom</em> of their local
deque. (At present, workers <em>always</em> steal from the bottom of
other worker&#39;s deques, regardless of the setting of this
flag.)</p>

<p>If you think of the tasks as a tree, where a parent task
spawns its children in the tree, then this flag loosely
corresponds to doing a breadth-first traversal of the tree,
whereas the default would be to do a depth-first traversal.</p>

<p><strong>Note that this is an &quot;execution hint&quot;.</strong> Rayon&#39;s task
execution is highly dynamic and the precise order in which
independent tasks are executed is not intended to be
guaranteed.</p>
</div><h4 id='method.start_handler' class="method"><span id='start_handler.v' class='invisible'><code>pub fn <a href='#method.start_handler' class='fnname'>start_handler</a>&lt;H&gt;(self, start_handler: H) -&gt; <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;H: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#283-288' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Set a callback to be invoked on thread start.</p>

<p>The closure is passed the index of the thread on which it is invoked.
Note that this same closure may be invoked multiple times in parallel.
If this closure panics, the panic will be passed to the panic handler.
If that handler returns, then startup will continue normally.</p>
</div><h4 id='method.exit_handler' class="method"><span id='exit_handler.v' class='invisible'><code>pub fn <a href='#method.exit_handler' class='fnname'>exit_handler</a>&lt;H&gt;(self, exit_handler: H) -&gt; <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;H: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#301-306' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Set a callback to be invoked on thread exit.</p>

<p>The closure is passed the index of the thread on which it is invoked.
Note that this same closure may be invoked multiple times in parallel.
If this closure panics, the panic will be passed to the panic handler.
If that handler returns, then the thread will exit normally.</p>
</div></div>
            <h2 id='implementations' class='small-section-header'>
              Trait Implementations<a href='#implementations' class='anchor'></a>
            </h2>
        <h3 id='impl-Default' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a></code><a href='#impl-Default' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#88' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.default' class="method"><span id='default.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default' class='fnname'>default</a>() -&gt; <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#88' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns the &quot;default value&quot; for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></p>
</div></div><h3 id='impl-Debug' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../rayon_core/struct.Configuration.html" title="struct rayon_core::Configuration">Configuration</a></code><a href='#impl-Debug' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#332-362' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class="method"><span id='fmt.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/rayon_core/lib.rs.html#333-361' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>↑</dt>
                    <dd>Move up in search results</dd>
                    <dt>↓</dt>
                    <dd>Move down in search results</dd>
                    <dt>↹</dt>
                    <dd>Switch tab</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt style="width:31px;">+ / -</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "rayon_core";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>